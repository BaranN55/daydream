[gd_scene load_steps=5 format=3]

[ext_resource type="Script" path="res://chapters/chap_1_lev_1.gd" id="1"]
[ext_resource type="PackedScene" path="res://Scenes/Player.tscn" id="2"]
[ext_resource type="Texture2D" path="res://tile_sheet_128px_by_128px.png" id="3"]
[ext_resource type="FontFile" path="res://Fonts/FinolaLaoiseDemoRegular.ttf" id="4"]

[sub_resource type="TileSet" id="TileSet_main"]
0/texture = ExtResource("3")
0/texture_region_size = Vector2i(120, 120)
0/0 = 0
0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-60, -60, 60, -60, 60, 60, -60, 60)

[node name="Chap1lev1" type="Node2D"]
script = ExtResource("1")

# --- TileMap with ground + platforms ---
[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_main")
format = 2
layer_0/name = "Ground"
# Tile data encodes positions. This builds:
# - A flat ground
# - Platforms above
layer_0/tile_data = PackedInt32Array(
    # Flat ground
    -65536, 0, 0, -65535, 0, 0, -65534, 0, 0, -65533, 0, 0, -65532, 0, 0,
    -65531, 0, 0, -65530, 0, 0, -65529, 0, 0, -65528, 0, 0, -65527, 0, 0,
    -65526, 0, 0, -65525, 0, 0, -65524, 0, 0, -65523, 0, 0, -65522, 0, 0,
    -65521, 0, 0, -65520, 0, 0,
    # A floating platform
    -131070, 0, 0, -131069, 0, 0, -131068, 0, 0,
    # Another platform
    -196600, 0, 0, -196599, 0, 0, -196598, 0, 0
)

# --- Player ---
[node name="Player" parent="." instance=ExtResource("2")]
position = Vector2(-700, -300)

[node name="Camera2D" type="Camera2D" parent="Player"]
limit_left = -2000
limit_top = -1000
limit_right = 4000
limit_bottom = 1000
position_smoothing_enabled = true

# --- Labels (tutorial hints) ---
[node name="Label_controls" type="Label" parent="."]
offset_left = -900
offset_top = -500
offset_right = -200
offset_bottom = -450
theme_override_fonts/font = ExtResource("4")
theme_override_font_sizes/font_size = 60
text = "Use WASD to move"

[node name="Label_jump" type="Label" parent="."]
offset_left = -200
offset_top = -500
offset_right = 600
offset_bottom = -450
theme_override_fonts/font = ExtResource("4")
theme_override_font_sizes/font_size = 60
text = "Press SPACE to jump"

# --- Goal ---
[node name="Goal" type="Area2D" parent="."]
position = Vector2(600, -400)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Goal"]
shape = RectangleShape2D
